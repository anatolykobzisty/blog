(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{175:function(e,t,n){e.exports=n(253)},253:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),o=n.n(r),l=n(36),i=n.n(l),c=n(71),u=n(38),s=(n(183),n(256)),m=n(151),d=n(152),p=n.n(d);function f(){var e=Object(m.a)(["\n  ","\n  \n  * {\n    box-sizing: border-box;\n  }\n\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  ul,\n  ol,\n  li {\n    display: block;\n    padding: 0;\n    margin: 0;\n  }\n"]);return f=function(){return e},e}var g=Object(a.createGlobalStyle)(f(),p.a),h=function(){return{type:"LOGOUT"}},E=n(73),b=n.n(E),y=n(88),_=n(155),w=n.n(_).a.create({baseURL:"https://conduit.productionready.io/api"}),v=function(e){return{type:"LOGIN_SUCCESS",token:e}},S=function(e){return{type:"LOGIN_FAILURE",errors:e}},O=function(){return function(e){var t=localStorage.getItem("token");e(t?v(t):h())}},I=n(127),k=a.default.div.withConfig({displayName:"NavBar__StyledNavBar",componentId:"f35ajf-0"})(["display:flex;justify-content:space-between;"]),x=Object(a.default)(u.b).withConfig({displayName:"NavBar__Logo",componentId:"f35ajf-1"})(["font-weight:bold;color:white;font-size:25px;:hover{color:black;}"]),j=a.default.ul.withConfig({displayName:"NavBar__Menu",componentId:"f35ajf-2"})(["display:flex;align-items:center;"]),N=a.default.li.withConfig({displayName:"NavBar__MenuItem",componentId:"f35ajf-3"})(["margin-right:10px;:last-child{margin-right:0;}"]),C=Object(a.default)(u.c).withConfig({displayName:"NavBar__StyledNavLink",componentId:"f35ajf-4"})(["color:white;:hover{color:black;}"]),R=Object(a.default)(I.a).withConfig({displayName:"NavBar__Logout",componentId:"f35ajf-5"})(["margin-left:30px;"]),L=Object(c.b)((function(e){return{isAutheticated:!!e.auth.token}}),(function(e){return{authLogout:function(){return e(h())}}}))((function(e){var t=e.isAutheticated,n=e.authLogout;return o.a.createElement(k,null,o.a.createElement(x,{to:"/blog"},"Blog"),o.a.createElement(j,null,o.a.createElement(N,null,o.a.createElement(C,{to:"/blog",exact:!0},"Home")),t?o.a.createElement(R,{onClick:function(){localStorage.removeItem("token"),n()}},"Log out"):o.a.createElement(o.a.Fragment,null,o.a.createElement(N,null,o.a.createElement(C,{to:"/blog/login"},"Sign in")),o.a.createElement(N,null,o.a.createElement(C,{to:"/blog/signup"},"Sign up")))))})),T=n(47),U=n(161),A=n(162),G=n(170),z=n(163),B=n(173),F=n(254),q=n(10),D=n(126),M=n(80),H=function(e){return{type:"REGISTER_SUCCESS",token:e}},P=function(e){return{type:"REGISTER_FAILURE",errors:e}},Q=a.default.div.withConfig({displayName:"Authentication__StyledAuthentication",componentId:"sc-102kihz-0"})(["display:flex;justify-content:center;"]),X=a.default.div.withConfig({displayName:"Authentication__Container",componentId:"sc-102kihz-1"})(["width:320px;display:flex;flex-direction:column;"]),V=a.default.h1.withConfig({displayName:"Authentication__PageTitle",componentId:"sc-102kihz-2"})(["color:#1890ff;font-size:40px;text-align:center;margin:20px 0;"]),Z=a.default.p.withConfig({displayName:"Authentication__DescriptionLink",componentId:"sc-102kihz-3"})(["font-size:16px;text-align:center;"]),J=a.default.div.withConfig({displayName:"Authentication__FormItem",componentId:"sc-102kihz-4"})(["margin-bottom:20px;"]),Y=a.default.div.withConfig({displayName:"Authentication__ErrorMessage",componentId:"sc-102kihz-5"})(["color:red;"]),$=M.a().shape({username:M.b().max(50,"Too Long!").required("Required"),email:M.b().email("Invalid email").required("Required"),password:M.b().matches(/^(?=^.{8,40}$)[0-9a-zA-Z](?=.*[A-Z])(?=.*[0-9])/,"The password has to contain: A-Z, a-z, 0-9").required("Required")}),K=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(G.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).handleFormSubmit=function(e,t){var a=n.props,r=a.authLogin,o=a.authRegister;t?o(e):r(e)},n}return Object(B.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=t.isAutheticated,r=t.isLoading,l=t.authErrors,i="/blog/signup"===n.path,c=i?"Sign Up":"Sign In",s=i?"/blog/login":"/blog/signup",m=i?"Have an account?":"Need an account?",d=l.username?l.username[0]:null,p=l.email?l.email[0]:null,f=l["email or password"]?l["email or password"][0]:null;return a?o.a.createElement(T.a,{to:"/blog"}):o.a.createElement(Q,null,o.a.createElement(X,null,o.a.createElement(V,null,c),o.a.createElement(Z,null,o.a.createElement(u.b,{to:s},m)),o.a.createElement(D.b,{initialValues:{username:"noname2020",email:"noname2020@mail.com",password:"8Nkl8dsp"},onSubmit:function(t){return e.handleFormSubmit(t,i)},validationSchema:$},(function(e){var t=e.handleSubmit,n=e.values,a=e.handleChange,l=e.handleBlur,u=e.touched,s=e.errors;return o.a.createElement(D.a,{onSubmit:t},i&&o.a.createElement(J,null,o.a.createElement(F.a,{type:"user",name:"username",placeholder:"Username",value:n.username,onChange:a,onBlur:l,prefix:o.a.createElement(q.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}})}),d&&o.a.createElement(Y,null,"Username ",d," "),u.username&&s.username&&o.a.createElement(Y,null,s.username)),o.a.createElement(J,null,o.a.createElement(F.a,{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:a,onBlur:l,prefix:o.a.createElement(q.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}})}),p&&o.a.createElement(Y,null,"Email ",p," "),u.email&&s.email&&o.a.createElement(Y,null,s.email)),o.a.createElement(J,null,o.a.createElement(F.a,{type:"password",name:"password",placeholder:"Password",value:n.password,onChange:a,onBlur:l,prefix:o.a.createElement(q.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}})}),f&&o.a.createElement(Y,null,"Email or password ",f," "),u.password&&s.password&&o.a.createElement(Y,null,s.password)),o.a.createElement(I.a,{type:"primary",htmlType:"submit",loading:r,block:!0},c))}))))}}]),t}(r.Component),W=Object(c.b)((function(e){var t=e.auth;return{isAutheticated:!!t.token,isLoading:t.loading,authErrors:t.errors}}),(function(e){return{authLogin:function(t){return e(function(e){var t=e.email,n=e.password;return(function(){var e=Object(y.a)(b.a.mark((function e(a){var r,o,l,i,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGIN_REQUEST"}),r={user:{email:t,password:n}},e.prev=2,e.next=5,w.post("/users/login/",r);case 5:return o=e.sent,e.next=8,o.data.user;case 8:return l=e.sent,e.next=11,l.token;case 11:i=e.sent,localStorage.setItem("token",i),a(v(i)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),c=e.t0.response.data.errors,a(S(c));case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}())}(t))},authRegister:function(t){return e(function(e){var t=e.username,n=e.email,a=e.password;return(function(){var e=Object(y.a)(b.a.mark((function e(r){var o,l,i,c,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"REGISTER_REQUEST"}),o={user:{username:t,email:n,password:a}},e.prev=2,e.next=5,w.post("/users/",o);case 5:return l=e.sent,e.next=8,l.data.user;case 8:return i=e.sent,e.next=11,i.token;case 11:c=e.sent,localStorage.setItem("token",c),r(H(c)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),u=e.t0.response.data.errors,r(P(u));case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}())}(t))}}}))(K),ee=function(){return o.a.createElement("div",null,"GlobalFeed")},te=a.default.main.withConfig({displayName:"Content__StyledContent",componentId:"sc-1fbqzez-0"})(["background:#ffffff;padding:0 150px;"]),ne=function(){return o.a.createElement(te,null,o.a.createElement(T.d,null,o.a.createElement(T.b,{path:"/blog",component:ee,exact:!0}),o.a.createElement(T.b,{path:"/blog/login",component:W}),o.a.createElement(T.b,{path:"/blog/signup",component:W})))},ae=n(44),re=n(169),oe=n(49),le={token:null,loading:!1,errors:{username:null,email:null,"email or password":null}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_REQUEST":return Object(oe.a)({},e,{loading:!0});case"REGISTER_SUCCESS":return Object(oe.a)({},e,{token:t.token,loading:!1});case"REGISTER_FAILURE":return Object(oe.a)({},e,{loading:!1,errors:t.errors});case"LOGIN_REQUEST":return Object(oe.a)({},e,{loading:!0});case"LOGIN_SUCCESS":return Object(oe.a)({},e,{token:t.token,loading:!1});case"LOGIN_FAILURE":return Object(oe.a)({},e,{loading:!1,errors:t.errors});case"LOGOUT":return Object(oe.a)({},e,{token:null});default:return e}},ce=Object(ae.c)({auth:ie}),ue="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ae.d,se=Object(ae.e)(ce,ue(Object(ae.a)(re.a)));se.dispatch(O());var me=s.a.Header,de=s.a.Footer,pe=Object(a.default)(me).withConfig({displayName:"src__StyledHeader",componentId:"sc-1ggpdd1-0"})(["background:#1890ff;color:#ffffff;padding:0 150px;"]),fe=Object(a.default)(de).withConfig({displayName:"src__StyledFooter",componentId:"sc-1ggpdd1-1"})(["position:fixed;left:0px;bottom:0px;width:100%;color:#ffffff;text-align:center;background:#1890ff;"]);i.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{store:se},o.a.createElement(g,null),o.a.createElement(u.a,null,o.a.createElement(s.a,null,o.a.createElement(pe,null,o.a.createElement(L,null)),o.a.createElement(ne,null),o.a.createElement(fe,null,"Blog \xa9 ",(new Date).getFullYear()))))),document.getElementById("root"))}},[[175,1,2]]]);
//# sourceMappingURL=main.c9994929.chunk.js.map