(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{184:function(e,t,n){e.exports=n(342)},342:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),i=n.n(o),l=n(17),c=n(20),s=n(30),u=n(31),d=n(33),p=n(32),m=n(34),f=n(2),E=(n(192),n(159)),g=n(160),h=n.n(g);function b(){var e=Object(E.a)(["\n  ","\n  \n  * {\n    box-sizing: border-box;\n  }\n\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  ul,\n  ol,\n  li {\n    display: block;\n    padding: 0;\n    margin: 0;\n  }\n"]);return b=function(){return e},e}var _=Object(f.createGlobalStyle)(b(),h.a),v=n(344),y=f.default.div.withConfig({displayName:"Loader__Container",componentId:"utmanw-0"})(["height:100vh;display:flex;justify-content:center;align-items:center;"]),A=function(){return a.a.createElement(y,null,a.a.createElement(v.a,{size:"large",tip:"Loading..."}))},x=n(127),C=n(166),w=n.n(C).a.create({baseURL:"https://conduit.productionready.io/api"}),I=function(){return localStorage.removeItem("token"),delete w.defaults.headers.common.Authorization,{type:"LOGOUT"}},L=f.default.div.withConfig({displayName:"NavBar__StyledNavBar",componentId:"f35ajf-0"})(["width:1100px;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;"]),S=Object(f.default)(c.b).withConfig({displayName:"NavBar__Logo",componentId:"f35ajf-1"})(["font-weight:bold;color:white;font-size:25px;:hover{color:black;}"]),k=f.default.ul.withConfig({displayName:"NavBar__Menu",componentId:"f35ajf-2"})(["display:flex;"]),T=f.default.li.withConfig({displayName:"NavBar__MenuItem",componentId:"f35ajf-3"})(["display:flex;align-items:center;margin-right:30px;:last-child{margin-right:0;}"]),R=Object(f.default)(c.c).withConfig({displayName:"NavBar__StyledNavLink",componentId:"f35ajf-4"})(["color:white;:hover{color:black;}"]),O=function(e){var t=e.isAutheticated,n=e.user,r=e.authLogout;return a.a.createElement(L,null,a.a.createElement(S,{to:"/blog"},"Blog"),a.a.createElement(k,null,a.a.createElement(T,null,a.a.createElement(R,{to:"/blog",exact:!0},"Home")),!t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(T,null,a.a.createElement(R,{to:"/blog/login"},"Sign in")),a.a.createElement(T,null,a.a.createElement(R,{to:"/blog/signup"},"Sign up"))),t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(T,null,a.a.createElement(R,{to:"/blog/articles/new"},"New Post")),a.a.createElement(T,null,a.a.createElement(x.a,{onClick:function(){r()}},"Log out")),a.a.createElement(T,null,a.a.createElement("span",null,n)))))};O.defaultProps={user:null};var j=Object(l.b)((function(e){var t=e.auth;return{isAutheticated:!!t.currentUser.token,user:t.currentUser.username}}),(function(e){return{authLogout:function(){return e(I())}}}))(O),U=n(53),F=n(347),N=n(13),D=n(54),G=n(10),q=n.n(G),z=n(5),B=n(98),P=n(19),Q=n(348),H=function(e){return{type:"REGISTER_SUCCESS",user:e}},K=function(e){return{type:"LOGIN_SUCCESS",user:e}},M=f.default.div.withConfig({displayName:"Authentication__StyledAuthentication",componentId:"sc-102kihz-0"})(["display:flex;justify-content:center;"]),V=f.default.div.withConfig({displayName:"Authentication__Container",componentId:"sc-102kihz-1"})(["width:400px;display:flex;flex-direction:column;"]),W=f.default.h1.withConfig({displayName:"Authentication__PageTitle",componentId:"sc-102kihz-2"})(["color:#1890ff;font-size:40px;text-align:center;margin:20px 0;"]),X=f.default.p.withConfig({displayName:"Authentication__DescriptionLink",componentId:"sc-102kihz-3"})(["font-size:16px;text-align:center;"]),J=f.default.div.withConfig({displayName:"Authentication__FormItem",componentId:"sc-102kihz-4"})(["margin-bottom:20px;"]),Y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).handleFormSubmit=function(e,t,r){var a=t.setErrors,o=n.props,i=o.authLogin,l=o.authRegister;r?l(e,{setErrors:a}):i(e,{setErrors:a})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.match,r=t.isAuthenticated,o="/blog/signup"===n.path,i=o?"Sign Up":"Sign In",l=o?"/blog/login":"/blog/signup",s=o?"Have an account?":"Need an account?";return r?a.a.createElement(U.a,{to:"/blog"}):a.a.createElement(M,null,a.a.createElement(V,null,a.a.createElement(W,null,i),a.a.createElement(X,null,a.a.createElement(c.b,{to:l},s)),a.a.createElement(D.d,{initialValues:{username:"",email:"",password:""},onSubmit:function(t,n){var r=n.setErrors;return e.handleFormSubmit(t,{setErrors:r},o)}},(function(e){var t=e.handleSubmit,n=e.values,r=e.handleChange,l=e.handleBlur,c=(e.touched,e.errors);return a.a.createElement(D.c,{onSubmit:t},console.log(c),o&&a.a.createElement(J,null,a.a.createElement(F.a,{type:"user",name:"username",placeholder:"Username",value:n.username,onChange:r,onBlur:l,prefix:a.a.createElement(N.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}})})),a.a.createElement(J,null,a.a.createElement(F.a,{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:r,onBlur:l,prefix:a.a.createElement(N.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}})})),a.a.createElement(J,null,a.a.createElement(F.a,{type:"password",name:"password",placeholder:"Password",value:n.password,onChange:r,onBlur:l,prefix:a.a.createElement(N.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}})})),a.a.createElement(x.a,{type:"primary",htmlType:"submit",block:!0},i))}))))}}]),t}(r.Component),Z=Object(l.b)((function(e){var t=e.auth;return{isAuthenticated:!!t.currentUser.token,isLoading:t.loading}}),(function(e){return{authLogin:function(t,n){n.setErrors;return e(function(e){var t=e.email,n=e.password;return(function(){var e=Object(P.a)(q.a.mark((function e(r){var a,o,i,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r({type:"LOGIN_REQUEST"}),a={user:{email:t,password:n}},!navigator.onLine){e.next=24;break}return e.prev=3,e.next=6,w.post("/users/login/",a);case 6:if(200!==(o=e.sent).status){e.next=17;break}return e.next=10,o.data.user;case 10:return i=e.sent,e.next=13,i.token;case 13:l=e.sent,w.defaults.headers.common.Authorization="Token ".concat(l),localStorage.setItem("token",l),r(K(i));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),404===e.t0.response.status?(r({type:"LOGIN_FAILURE"}),Q.a.error("Not found requests")):403===e.t0.response.status?(r({type:"LOGIN_FAILURE"}),Q.a.error("Forbidden requests")):401===e.t0.response.status?(r({type:"LOGIN_FAILURE"}),Q.a.error("Unauthorized requests")):422===e.t0.response.status?r((e.t0.response.data,{type:"LOGIN_FAILURE"})):(r({type:"LOGIN_FAILURE"}),Q.a.error("Something went wrong"));case 22:e.next=26;break;case 24:r({type:"LOGIN_FAILURE"}),Q.a.error("Please check your network connectivity");case 26:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}())}(t))},authRegister:function(t,n){var r=n.setErrors;return e(function(e,t){t.setErrors;return(function(){var t=Object(P.a)(q.a.mark((function t(n){var r,a,o,i,l,c;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:"REGISTER_REQUEST"}),!navigator.onLine){t.next=45;break}return t.prev=2,t.next=5,w.post("/users/",{user:e});case 5:if(200!==(r=t.sent).status){t.next=15;break}return t.next=9,r.data.user;case 9:return a=t.sent,t.next=12,a.token;case 12:o=t.sent,localStorage.setItem("token",o),n(H(a));case 15:t.next=43;break;case 17:if(t.prev=17,t.t0=t.catch(2),n({type:"REGISTER_FAILURE"}),404!==t.t0.response.status){t.next=24;break}Q.a.error("Not found requests"),t.next=43;break;case 24:if(403!==t.t0.response.status){t.next=28;break}Q.a.error("Forbidden requests"),t.next=43;break;case 28:if(401!==t.t0.response.status){t.next=32;break}Q.a.error("Unauthorized requests"),t.next=43;break;case 32:if(422!==t.t0.response.status){t.next=42;break}return t.next=35,t.t0.response.data;case 35:i=t.sent,l=i.errors,console.log(l),c=Object.keys(l).map((function(e){var t=l[e].join(" ");return Object(B.a)({},"".concat(e),t)})),console.log(Object(z.a)({},c)),t.next=43;break;case 42:Q.a.error("Something went wrong");case 43:t.next=47;break;case 45:n({type:"REGISTER_FAILURE"}),Q.a.error("Please check your network connectivity");case 47:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}())}(t,{setErrors:r}))}}}))(Y),$=n(346),ee=n(345),te=f.default.ul.withConfig({displayName:"TagList__StyledTaglist",componentId:"ll58bc-0"})(["display:flex;flex-wrap:wrap;"]),ne=f.default.li.withConfig({displayName:"TagList__Tag",componentId:"ll58bc-1"})(["color:white;background-color:#1890ff;padding:5px 10px;margin-right:10px;margin-bottom:10px;"]),re=function(e){var t=e.tags;return a.a.createElement(a.a.Fragment,null,a.a.createElement(te,null,t.map((function(e){return a.a.createElement(ne,{key:e},e)}))))},ae=function(e){return{type:"HANDLE_LIKE_ARTICLE_SUCCESS",article:e}},oe=Object(f.default)(x.a).withConfig({displayName:"AddToFavorites__StyledAddToFavorites",componentId:"sc-1cbe9mc-0"})(["width:60px;"]),ie=Object(l.b)((function(e){return{isLoading:e.singleArticle.loadingAddToFavorites}}),(function(e){return{handleAddToFavorites:function(t,n){return e(function(e,t){return function(){var n=Object(P.a)(q.a.mark((function n(r){var a,o;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r({type:"HANDLE_LIKE_ARTICLE_REQUEST"}),!navigator.onLine){n.next=18;break}return n.prev=2,n.next=5,w({method:"".concat(e),url:"/articles/".concat(t,"/favorite")});case 5:if(200!==(a=n.sent).status){n.next=11;break}return n.next=9,a.data.article;case 9:o=n.sent,r(ae(o));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),404===n.t0.response.status?(r({type:"HANDLE_LIKE_ARTICLE_FAILURE"}),Q.a.error("Not found requests")):403===n.t0.response.status?(r({type:"HANDLE_LIKE_ARTICLE_FAILURE"}),Q.a.error("Forbidden requests")):401===n.t0.response.status?(r({type:"HANDLE_LIKE_ARTICLE_FAILURE"}),Q.a.error("Unauthorized requests")):(r({type:"HANDLE_LIKE_ARTICLE_FAILURE"}),Q.a.error("Something went wrong"));case 16:n.next=20;break;case 18:r({type:"HANDLE_LIKE_ARTICLE_FAILURE"}),Q.a.error("Please check your network connectivity");case 20:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.isFavorited,n=e.favoritesCount,r=e.slug,o=e.handleAddToFavorites,i=e.isLoading;return a.a.createElement(a.a.Fragment,null,a.a.createElement(oe,{onClick:function(){o(t?"delete":"post",r)},loading:i},i?null:a.a.createElement(a.a.Fragment,null,a.a.createElement(N.a,{type:"heart",theme:t?"filled":"outlined",style:{fontSize:"13px",color:"#1890ff"}}),a.a.createElement("span",null,"\xa0",n))))})),le=f.default.div.withConfig({displayName:"Feed__Article",componentId:"sc-1al9ce8-0"})(["width:900px;border:2px solid #1890ff;border-top:none;border-left:none;border-right:none;padding:20px 0;:first-child{border:2px solid #1890ff;border-left:none;border-right:none;}"]),ce=f.default.div.withConfig({displayName:"Feed__ArticlePreview",componentId:"sc-1al9ce8-1"})([""]),se=f.default.div.withConfig({displayName:"Feed__ArticleMeta",componentId:"sc-1al9ce8-2"})(["display:flex;justify-content:space-between;margin-bottom:15px;"]),ue=f.default.div.withConfig({displayName:"Feed__AvatarAuthorArticle",componentId:"sc-1al9ce8-3"})(["width:45px;height:45px;margin-right:15px;border:1px solid #1890ff;overflow:hidden;"]),de=f.default.div.withConfig({displayName:"Feed__Info",componentId:"sc-1al9ce8-4"})([""]),pe=f.default.div.withConfig({displayName:"Feed__NameAuthorArticle",componentId:"sc-1al9ce8-5"})(["color:#1890ff;font-size:16px;"]),me=f.default.span.withConfig({displayName:"Feed__DateArticle",componentId:"sc-1al9ce8-6"})(["font-size:12px;"]),fe=f.default.div.withConfig({displayName:"Feed__ArticleContent",componentId:"sc-1al9ce8-7"})(["width:100%;"]),Ee=f.default.h1.withConfig({displayName:"Feed__ArticleTitle",componentId:"sc-1al9ce8-8"})(["font-size:24px;word-wrap:break-word;margin:0;"]),ge=f.default.p.withConfig({displayName:"Feed__ArticleDescription",componentId:"sc-1al9ce8-9"})(["color:black;font-size:15px;word-wrap:break-word;"]),he=f.default.div.withConfig({displayName:"Feed__ArticleFooter",componentId:"sc-1al9ce8-10"})(["display:flex;justify-content:flex-end;"]),be=Object(l.b)((function(e){return{articles:e.multipleArticles.articles}}))((function(e){var t=e.articles;return a.a.createElement(a.a.Fragment,null,t.map((function(e){return a.a.createElement(le,{key:e.createdAt},a.a.createElement(ce,null,a.a.createElement(se,null,a.a.createElement("div",null,a.a.createElement(ue,null,a.a.createElement("img",{width:"45px",height:"45px",src:e.author.image,alt:""})),a.a.createElement(de,null,a.a.createElement(pe,null,e.author.username),a.a.createElement(me,null,"Created ".concat(Object(ee.a)(new Date(e.createdAt),new Date,{addSuffix:!0}))))),a.a.createElement(ie,{isFavorited:e.favorited,favoritesCount:e.favoritesCount,slug:e.slug}))),a.a.createElement(c.b,{to:"/blog/articles/".concat(e.slug)},a.a.createElement(fe,null,a.a.createElement(Ee,null,e.title),a.a.createElement(ge,null,e.description),a.a.createElement(he,null,a.a.createElement(re,{tags:e.tagList})))))})))})),_e=function(e,t){return{type:"GET_ARTICLES_SUCCESS",articles:e,articlesCount:t}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"GET_ARTICLES_FAILURE",error:e}},ye=f.default.div.withConfig({displayName:"GlobalFeed__StyledGlobalFeed",componentId:"sc-7186gp-0"})(["display:flex;flex-direction:column;align-items:center;margin-top:40px;"]),Ae=f.default.div.withConfig({displayName:"GlobalFeed__Loader",componentId:"sc-7186gp-1"})(["font-size:16px;color:#1890ff;"]),xe=Object(f.default)($.a).withConfig({displayName:"GlobalFeed__StyledPagination",componentId:"sc-7186gp-2"})(["margin-top:30px;margin-bottom:30px;"]),Ce=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={current:1},n.componentDidMount=function(){(0,n.props.showArticles)()},n.onChange=function(e,t){n.setState({current:e}),(0,n.props.showArticles)(10*e-t,t)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.current,t=this.props,n=t.isLoading,r=t.articles,o=t.articlesCount;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ye,null,n&&a.a.createElement(Ae,null,"Loading..."),!n&&r&&a.a.createElement(a.a.Fragment,null,a.a.createElement(be,{articles:r}),a.a.createElement(xe,{total:o,current:e,pageSize:10,onChange:this.onChange}))))}}]),t}(r.Component);Ce.defaultProps={articlesCount:null};var we=Object(l.b)((function(e){var t=e.multipleArticles;return{isLoading:t.loading,articles:t.articles,articlesCount:t.articlesCount}}),(function(e){return{showArticles:function(t,n){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return function(){var n=Object(P.a)(q.a.mark((function n(r){var a,o,i;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r({type:"GET_ARTICLES_REQUEST"}),!navigator.onLine){n.next=21;break}return n.prev=2,n.next=5,w.get("/articles",{params:{offset:e,limit:t}});case 5:if(200!==(a=n.sent).status){n.next=14;break}return n.next=9,a.data.articles;case 9:return o=n.sent,n.next=12,a.data.articlesCount;case 12:i=n.sent,r(_e(o,i));case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(2),404===n.t0.response.status?(r(ve()),Q.a.error("Not found requests")):403===n.t0.response.status?(r(ve()),Q.a.error("Forbidden requests")):401===n.t0.response.status?(r(ve()),Q.a.error("Unauthorized requests")):422===n.t0.response.status?r(ve(n.t0.response.data)):(r(ve()),Q.a.error("Something went wrong"));case 19:n.next=23;break;case 21:r(ve()),Q.a.error("Please check your network connectivity");case 23:case"end":return n.stop()}}),n,null,[[2,16]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))(Ce),Ie=n(44),Le=n.n(Ie),Se=function(e){return{type:"GET_ARTICLE_SUCCESS",article:e}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"GET_ARTICLE_FAILURE",error:e}},Te=function(e){return function(){var t=Object(P.a)(q.a.mark((function t(n){var r,a;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:"GET_ARTICLE_REQUEST"}),!navigator.onLine){t.next=18;break}return t.prev=2,t.next=5,w.get("/articles/".concat(e));case 5:if(200!==(r=t.sent).status){t.next=11;break}return t.next=9,r.data.article;case 9:a=t.sent,n(Se(a));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),404===t.t0.response.status?(n(ke()),Q.a.error("Not found requests")):403===t.t0.response.status?(n(ke()),Q.a.error("Forbidden requests")):401===t.t0.response.status?(n(ke()),Q.a.error("Unauthorized requests")):422===t.t0.response.status?n(ke(t.t0.response.data)):(n(ke()),Q.a.error("Something went wrong"));case 16:t.next=20;break;case 18:n(ke()),Q.a.error("Please check your network connectivity");case 20:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"DELETE_ARTICLE_FAILURE ",error:e}},Oe=function(){return{type:"CLEAN_ARTICLE "}},je=f.default.div.withConfig({displayName:"Article__StyledArticle",componentId:"khm3vx-0"})(["display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;"]),Ue=f.default.div.withConfig({displayName:"Article__Banner",componentId:"khm3vx-1"})(["width:100%;padding-top:35px;padding-bottom:30px;border-top:1px solid #1890ff;border-bottom:1px solid #1890ff;"]),Fe=f.default.div.withConfig({displayName:"Article__Container",componentId:"khm3vx-2"})(["width:1100px;margin:0 auto;"]),Ne=f.default.h1.withConfig({displayName:"Article__ArticleTitle",componentId:"khm3vx-3"})(["word-wrap:break-word;font-size:44px;margin:0;margin-bottom:20px;"]),De=f.default.div.withConfig({displayName:"Article__ArticleMeta",componentId:"khm3vx-4"})(["display:flex;justify-content:space-between;margin-bottom:15px;"]),Ge=f.default.div.withConfig({displayName:"Article__AvatarAuthorArticle",componentId:"khm3vx-5"})(["width:45px;height:45px;margin-right:15px;border:1px solid #1890ff;overflow:hidden;"]),qe=f.default.div.withConfig({displayName:"Article__Info",componentId:"khm3vx-6"})([""]),ze=f.default.div.withConfig({displayName:"Article__NameAuthorArticle",componentId:"khm3vx-7"})(["color:#1890ff;font-size:16px;"]),Be=f.default.span.withConfig({displayName:"Article__DateArticle",componentId:"khm3vx-8"})(["font-size:12px;"]),Pe=Object(f.default)(c.b).withConfig({displayName:"Article__ButtonEdit",componentId:"khm3vx-9"})(["border:1px solid #1890ff;display:inline-block;padding:5px 10px;text-decoration:none;color:#1890ff;margin-right:10px;:hover{background-color:#1890ff;color:white;}"]),Qe=f.default.button.withConfig({displayName:"Article__ButtonDelete",componentId:"khm3vx-10"})(["padding:5px 10px;font:inherit;border:1px solid #1890ff;background-color:white;color:#1890ff;cursor:pointer;:hover{background-color:#1890ff;color:white;}"]),He=f.default.div.withConfig({displayName:"Article__ArticleContent",componentId:"khm3vx-11"})(["padding-top:30px;"]),Ke=f.default.div.withConfig({displayName:"Article__ArticleBody",componentId:"khm3vx-12"})(["width:100%;display:flex;justify-content:space-between;"]),Me=f.default.div.withConfig({displayName:"Article__BodyWrap",componentId:"khm3vx-13"})(["width:100%;padding:10px;padding-top:0;"]),Ve=f.default.p.withConfig({displayName:"Article__Body",componentId:"khm3vx-14"})(["word-wrap:break-word;"]),We=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).isAuthor=function(){var e=n.props,t=e.currentUser,r=e.article;return!(!Le()(r)||!Le()(t))&&r.author.username===t.username},n.handleClickButtonDelete=function(){var e=n.props,t=e.match,r=e.delArticle,a=e.history;r(t.params.slug),a.push("/blog")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.showArticle,r=e.emptyArticle;n(t.params.slug),r()}},{key:"render",value:function(){var e=this.props,t=e.article,n=e.isLoading;return a.a.createElement(a.a.Fragment,null,a.a.createElement(je,null,n&&a.a.createElement(A,null),!n&&Le()(t)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ue,null,a.a.createElement(Fe,null,a.a.createElement(Ne,null,t.title),a.a.createElement(De,null,a.a.createElement("div",null,a.a.createElement(Ge,null,a.a.createElement("img",{width:"45px",height:"45px",src:t.author.image,alt:""})),a.a.createElement(qe,null,a.a.createElement(ze,null,t.author.username),a.a.createElement(Be,null,"Created ".concat(Object(ee.a)(new Date(t.createdAt),new Date,{addSuffix:!0}))))),!n&&this.isAuthor()&&a.a.createElement("span",null,a.a.createElement(Pe,{to:"/blog/articles/".concat(t.slug,"/edit")},"Edit Article"),a.a.createElement(Qe,{onClick:this.handleClickButtonDelete},"Delete Article"))))),a.a.createElement(He,null,a.a.createElement(Fe,null,a.a.createElement(Ke,null,a.a.createElement(Me,null,a.a.createElement(Ve,null,t.body)),a.a.createElement(ie,{isFavorited:t.favorited,favoritesCount:t.favoritesCount,slug:t.slug})),a.a.createElement(re,{tags:t.tagList}))))))}}]),t}(r.Component);We.defaultProps={article:{}};var Xe=Object(U.g)(Object(l.b)((function(e){var t=e.auth,n=e.singleArticle;return{isLoading:n.loading,article:n.article,currentUser:t.currentUser}}),(function(e){return{showArticle:function(t){return e(Te(t))},delArticle:function(t){return e(function(e){return function(){var t=Object(P.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:"DELETE_ARTICLE_REQUEST"}),!navigator.onLine){t.next=14;break}return t.prev=2,t.next=5,w.delete("/articles/".concat(e));case 5:200===t.sent.status&&n({type:"DELETE_ARTICLE_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),404===t.t0.response.status?(n(Re()),Q.a.error("Not found requests")):403===t.t0.response.status?(n(Re()),Q.a.error("Forbidden requests")):401===t.t0.response.status?(n(Re()),Q.a.error("Unauthorized requests")):422===t.t0.response.status?n(Re(t.t0.response.data)):(n(Re()),Q.a.error("Something went wrong"));case 12:t.next=16;break;case 14:n(Re()),Q.a.error("Please check your network connectivity");case 16:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},emptyArticle:function(){return e(Oe())}}}))(We)),Je=n(176),Ye=f.default.ul.withConfig({displayName:"BackendErrorMessages__ErrorMessages",componentId:"sc-1qp1hju-0"})(["color:red;"]),Ze=function(e){var t=e.backendErrors,n=Object.keys(t).map((function(e){var n=t[e].join(" ");return"".concat(e," ").concat(n)}));return a.a.createElement(Ye,null,n.map((function(e){return a.a.createElement("li",{key:e},e)})))},$e=F.a.TextArea,et=f.default.div.withConfig({displayName:"ArticleForm__StyledArticleForm",componentId:"sc-173qngr-0"})(["margin-top:35px;"]),tt=f.default.div.withConfig({displayName:"ArticleForm__Container",componentId:"sc-173qngr-1"})(["width:800px;display:flex;flex-direction:column;"]),nt=f.default.div.withConfig({displayName:"ArticleForm__FormItem",componentId:"sc-173qngr-2"})(["margin-bottom:20px;"]),rt=f.default.div.withConfig({displayName:"ArticleForm__ButtonWrap",componentId:"sc-173qngr-3"})(["display:flex;justify-content:flex-end;"]),at=function(e){var t=e.field,n=Object(Je.a)(e,["field"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(F.a,Object.assign({},t,n)))},ot=function(e){var t=e.handleFormSubmit,n=e.error,r=e.updateValues,o=void 0===r?{title:"",description:"",body:"",tagList:[]}:r;return a.a.createElement(a.a.Fragment,null,a.a.createElement(et,null,a.a.createElement(tt,null,a.a.createElement(D.d,{onSubmit:function(e){return t(e)},initialValues:o},(function(e){var t=e.handleSubmit,r=e.values,o=e.handleChange,i=e.handleBlur;return a.a.createElement(D.c,{onSubmit:t},n&&n.errors&&a.a.createElement(Ze,{backendErrors:n.errors}),a.a.createElement(nt,null,a.a.createElement(F.a,{name:"title",placeholder:"Article Title",value:r.title,onChange:o,onBlur:i})),a.a.createElement(nt,null,a.a.createElement(F.a,{name:"description",placeholder:"What is this article about?",value:r.description,onChange:o,onBlur:i})),a.a.createElement(nt,null,a.a.createElement($e,{name:"body",placeholder:"Write your article in (markdown)",rows:10,allowClear:!0,value:r.body,onChange:o,onBlur:i})),a.a.createElement(D.b,{name:"tagList",render:function(e){return a.a.createElement("div",null,r.tagList&&r.tagList.length>0?r.tagList.map((function(t,n){return a.a.createElement(nt,{key:n},a.a.createElement(D.a,{name:"tagList.".concat(n),placeholder:"Enter tags",component:at}),a.a.createElement(x.a,{onClick:function(){return e.remove(n)}},"-"),a.a.createElement(x.a,{onClick:function(){return e.insert(n,"")}},"+"))})):a.a.createElement(x.a,{type:"button",onClick:function(){return e.push("")}},"Add a tag"))}}),a.a.createElement(rt,null,a.a.createElement(x.a,{type:"primary",htmlType:"submit"},"Publish Article")))})))))};ot.defaultProps={updateValues:{},error:null};var it=ot,lt=function(e){return{type:"ADD_ARTICLE_SUCCESS",article:e}},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"ADD_ARTICLE_FAILURE",error:e}},st=f.default.div.withConfig({displayName:"CreateArticle__StyledCreateArticle",componentId:"sc-1u93rls-0"})(["display:flex;justify-content:center;"]),ut=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={isSubmitted:!1},n.handleFormSubmit=function(e){(0,n.props.createArticle)(e),n.setState({isSubmitted:!0})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.emptyArticle)()}},{key:"render",value:function(){var e=this.props,t=e.article,n=e.error,r=e.isLoading,o=this.state.isSubmitted;return localStorage.getItem("token")?o&&Le()(t)?a.a.createElement(U.a,{to:"/blog/articles/".concat(t.slug)}):a.a.createElement(a.a.Fragment,null,r?a.a.createElement(A,null):a.a.createElement(st,null,a.a.createElement(it,{handleFormSubmit:this.handleFormSubmit,error:n}))):a.a.createElement(U.a,{to:"/blog/"})}}]),t}(r.Component);ut.defaultProps={error:null};var dt=Object(l.b)((function(e){var t=e.singleArticle;return{isLoading:t.loading,error:t.error,article:t.article}}),(function(e){return{createArticle:function(t){return e(function(e){var t=e.title,n=e.description,r=e.body,a=e.tagList;return(function(){var e=Object(P.a)(q.a.mark((function e(o){var i,l,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o({type:"ADD_ARTICLE_REQUEST"}),i={article:{title:t,description:n,body:r,tagList:a}},!navigator.onLine){e.next=19;break}return e.prev=3,e.next=6,w.post("/articles",i);case 6:if(200!==(l=e.sent).status){e.next=12;break}return e.next=10,l.data.article;case 10:c=e.sent,o(lt(c));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),404===e.t0.response.status?(o(ct()),Q.a.error("Not found requests")):403===e.t0.response.status?(o(ct()),Q.a.error("Forbidden requests")):401===e.t0.response.status?(o(ct()),Q.a.error("Unauthorized requests")):422===e.t0.response.status?o(ct(e.t0.response.data)):(o(ct()),Q.a.error("Something went wrong"));case 17:e.next=21;break;case 19:o(ct()),Q.a.error("Please check your network connectivity");case 21:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}())}(t))},emptyArticle:function(){return e(Oe())}}}))(ut),pt=n(177),mt=n.n(pt),ft=function(e){return{type:"EDIT_ARTICLE_SUCCESS",article:e}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"EDIT_ARTICLE_FAILURE",error:e}},gt=f.default.div.withConfig({displayName:"EditArticle__StyledEditArticle",componentId:"sc-1tx635c-0"})(["display:flex;justify-content:center;"]),ht=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={isSubmitted:!1},n.componentDidMount=function(){var e=n.props,t=e.match;(0,e.fetchArticle)(t.params.slug)},n.handleFormSubmit=function(e){var t=n.props,r=t.match;(0,t.updateArticle)(r.params.slug,e),n.setState({isSubmitted:!0})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"setUpdateValuesForm",value:function(){var e=this.props.article;return Le()(e)?mt()(e,["title","description","body","tagList"]):{}}},{key:"render",value:function(){var e=this.props,t=e.article,n=e.error,r=e.isLoading,o=this.state.isSubmitted;return localStorage.getItem("token")?o&&Le()(t)?a.a.createElement(U.a,{to:"/blog/articles/".concat(t.slug)}):a.a.createElement(a.a.Fragment,null,r?a.a.createElement(A,null):a.a.createElement(gt,null,a.a.createElement(it,{handleFormSubmit:this.handleFormSubmit,error:n,updateValues:this.setUpdateValuesForm()}))):a.a.createElement(U.a,{to:"/blog/"})}}]),t}(r.Component);ht.defaultProps={error:null};var bt=Object(l.b)((function(e){var t=e.singleArticle;return{isLoading:t.loading,error:t.error,article:t.article}}),(function(e){return{updateArticle:function(t,n){return e(function(e,t){var n=t.title,r=t.description,a=t.body,o=t.tagList;return(function(){var t=Object(P.a)(q.a.mark((function t(i){var l,c,s;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i({type:"EDIT_ARTICLE_REQUEST"}),l={article:{title:n,description:r,body:a,tagList:o}},!navigator.onLine){t.next=19;break}return t.prev=3,t.next=6,w.put("/articles/".concat(e),l);case 6:if(200!==(c=t.sent).status){t.next=12;break}return t.next=10,c.data.article;case 10:s=t.sent,i(ft(s));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),404===t.t0.response.status?(i(Et()),Q.a.error("Not found requests")):403===t.t0.response.status?(i(Et()),Q.a.error("Forbidden requests")):401===t.t0.response.status?(i(Et()),Q.a.error("Unauthorized requests")):422===t.t0.response.status?i(Et(t.t0.response.data)):(i(Et()),Q.a.error("Something went wrong"));case 17:t.next=21;break;case 19:i(Et()),Q.a.error("Please check your network connectivity");case 21:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}())}(t,n))},fetchArticle:function(t){return e(Te(t))},emptyArticle:function(){return e(Oe())}}}))(ht),_t=function(){return a.a.createElement(U.d,null,a.a.createElement(U.b,{path:"/blog/",component:we,exact:!0}),a.a.createElement(U.b,{path:"/blog/login",component:Z}),a.a.createElement(U.b,{path:"/blog/signup",component:Z}),a.a.createElement(U.b,{path:"/blog/articles/new",component:dt}),a.a.createElement(U.b,{path:"/blog/articles/:slug/edit",component:bt}),a.a.createElement(U.b,{path:"/blog/articles/:slug",component:Xe}))},vt=function(e){return{type:"GET_USER_SUCCESS",user:e}},yt=f.default.div.withConfig({displayName:"App__Page",componentId:"sc-1to29a3-0"})(["width:100%;margin:0 auto;"]),At=f.default.header.withConfig({displayName:"App__Header",componentId:"sc-1to29a3-1"})(["height:60px;display:flex;justify-content:center;align-items:center;background:#1890ff;color:#ffffff;padding:0 20px;"]),xt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).componentDidMount=function(){(0,n.props.getCurrentUser)()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.isLoading;return a.a.createElement(a.a.Fragment,null,a.a.createElement(_,null),a.a.createElement(c.a,null,a.a.createElement(yt,null,e?a.a.createElement(A,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(At,null,a.a.createElement(j,null)),a.a.createElement(_t,null)))))}}]),t}(r.Component),Ct=Object(l.b)((function(e){return{isLoading:e.auth.loading}}),(function(e){return{getCurrentUser:function(){return e(function(){var e=Object(P.a)(q.a.mark((function e(t){var n,r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("token"))){e.next=20;break}return t({type:"GET_USER_REQUEST"}),w.defaults.headers.common.Authorization="Token ".concat(n),e.prev=4,e.next=7,w("/user/");case 7:if(200!==(r=e.sent).status){e.next=13;break}return e.next=11,r.data.user;case 11:a=e.sent,t(vt(a));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),404===e.t0.response.status?(t({type:"GET_USER_FAILURE"}),Q.a.error("Not found requests")):403===e.t0.response.status?(t({type:"GET_USER_FAILURE"}),Q.a.error("Forbidden requests")):401===e.t0.response.status?(t({type:"GET_USER_FAILURE"}),Q.a.error("Unauthorized requests")):(t({type:"GET_USER_FAILURE"}),Q.a.error("Something went wrong"));case 18:e.next=21;break;case 20:t({type:"GET_USER_FAILURE"});case 21:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}())}}}))(xt),wt=n(51),It=n(178),Lt={currentUser:{},loading:!1},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_REQUEST":return Object(z.a)({},e,{loading:!0});case"REGISTER_SUCCESS":return Object(z.a)({},e,{currentUser:t.user,loading:!1});case"REGISTER_FAILURE":return Object(z.a)({},e,{loading:!1});case"LOGIN_REQUEST":return Object(z.a)({},e,{loading:!0});case"LOGIN_SUCCESS":return Object(z.a)({},e,{currentUser:t.user,loading:!1});case"LOGIN_FAILURE":return Object(z.a)({},e,{loading:!1});case"GET_USER_REQUEST":return Object(z.a)({},e,{loading:!0});case"GET_USER_SUCCESS":return Object(z.a)({},e,{currentUser:t.user,loading:!1});case"GET_USER_FAILURE":return Object(z.a)({},e,{loading:!1});case"LOGOUT":return Object(z.a)({},e,{currentUser:{}});default:return e}},kt={articles:[],articlesCount:null,loading:!1},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ARTICLES_REQUEST":return Object(z.a)({},e,{loading:!0});case"GET_ARTICLES_SUCCESS":return Object(z.a)({},e,{articles:t.articles,articlesCount:t.articlesCount,loading:!1});case"GET_ARTICLES_FAILURE":return Object(z.a)({},e,{loading:!1,error:t.error});case"HANDLE_LIKE_ARTICLE_REQUEST":return Object(z.a)({},e,{loadingAddToFavorites:!0});case"HANDLE_LIKE_ARTICLE_SUCCESS":return Object(z.a)({},e,{articles:e.articles.map((function(e){return e.slug===t.article.slug?t.article:e})),loadingAddToFavorites:!1});case"HANDLE_LIKE_ARTICLE_FAILURE":return Object(z.a)({},e,{loadingAddToFavorites:!1});default:return e}},Rt={article:{},loading:!1,loadingAddToFavorites:!1,error:null},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ARTICLE_REQUEST":return Object(z.a)({},e,{loading:!0});case"GET_ARTICLE_SUCCESS":return Object(z.a)({},e,{article:t.article,loading:!1});case"GET_ARTICLE_FAILURE":return Object(z.a)({},e,{loading:!1,error:t.error});case"ADD_ARTICLE_REQUEST":return Object(z.a)({},e,{loading:!0});case"ADD_ARTICLE_SUCCESS":return Object(z.a)({},e,{article:t.article,loading:!1});case"ADD_ARTICLE_FAILURE":return Object(z.a)({},e,{loading:!1,error:t.error});case"EDIT_ARTICLE_REQUEST":return Object(z.a)({},e,{loading:!0});case"EDIT_ARTICLE_SUCCESS":return Object(z.a)({},e,{article:t.article,loading:!1});case"EDIT_ARTICLE_FAILURE":return Object(z.a)({},e,{loading:!1,error:t.error});case"DELETE_ARTICLE_REQUEST":return Object(z.a)({},e,{loading:!0});case"DELETE_ARTICLE_SUCCESS":return Object(z.a)({},e,{article:{},loading:!1});case"DELETE_ARTICLE_FAILURE ":return Object(z.a)({},e,{loading:!1,error:t.error});case"HANDLE_LIKE_ARTICLE_REQUEST":return Object(z.a)({},e,{loadingAddToFavorites:!0});case"HANDLE_LIKE_ARTICLE_SUCCESS":return Object(z.a)({},e,{article:t.article,loadingAddToFavorites:!1});case"HANDLE_LIKE_ARTICLE_FAILURE":return Object(z.a)({},e,{loadingAddToFavorites:!1});case"CLEAN_ARTICLE ":return Object(z.a)({},e,{article:{}});default:return e}},jt=Object(wt.c)({auth:St,multipleArticles:Tt,singleArticle:Ot}),Ut="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):wt.d,Ft=Object(wt.e)(jt,Ut(Object(wt.a)(It.a)));i.a.render(a.a.createElement(l.a,{store:Ft},a.a.createElement(c.a,null,a.a.createElement(Ct,null))),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.e5a4fa78.chunk.js.map